# 위젯 생명주기
위젯이 화면에 그려지는 순간부터 삭제되는 순간까지의 주기를 의미함

---

## 이걸 왜 알아야하냐?

UI 상태 관리: `StatefulWidget`은 상태를 가지는 위젯으로, 사용자 인터페이스의 상태를 관리하는 데 사용됨.
위젯이 화면에 표시되고 변경될 때마다 생명주기 메서드가 호출되며, 이를 통해 화면의 상태를 업데이트하고 반응적인 UI를 구현가능.
상태 변경 감지: `StatefulWidget`의 생명주기 메서드를 이용하면 상태의 변화를 감지하고, 이에 따라 필요한 작업을 수행할 수 있음.
예를 들어, 사용자의 입력에 따라 화면을 업데이트하거나 데이터를 로드하는 등의 작업을 수행할 수 있음.
자원 관리: App에서 사용되는 자원(메모리, 네트워크 등)을 효율적으로 관리하려면 `StatefulWidget`의 생명주기를 이해해야함.
필요한 자원을 적절하게 할당하고 해제하는 작업을 생명주기 메서드 내에서 수행할 수 있음.
문제 해결 및 디버깅: App에서 예기치 않은 동작이나 버그가 발생했을 때 `StatefulWidget`의 생명주기를 분석하면 문제의 원인을 찾아낼 수 있음.
특정 생명주기 단계에서 발생하는 문제를 파악하여 수정할 수 있음.
성능 최적화: 상태 변화에 따른 화면 업데이트를 효율적으로 처리하여 성능을 최적화할 수 있음.
예를 들어, 불필요한 업데이트를 방지하거나 비용이 큰 작업을 최소화할 수 있음.
동작 예측: `StatefulWidget`의 생명주기를 이해하면 위젯의 동작을 예측할 수 있음.
화면이 언제 업데이트되는지, 어떤 순서로 메서드가 호출되는지 등을 알고 있으면 개발자가 의도한 동작을 정확하게 제어할 수 있음.
요약하자면, `StatefulWidget`의 생명주기를 알아야 하는 이유는 App의 UI 상태 관리, 상태 변경 감지, 자원 관리, 문제 해결 및 디버깅, 성능 최적화, 동작 예측 등 다양한 측면에서 개발과 유지보수의 품질을 높일 수 있기 때문임.

---

## ✅ 1. `StatelessWidget`
- 상태가 없는 위젯이라는 뜻

먼저 `StatelessWidget`이 빌드되면 생성자가 실행됨. 이어서 필수로 `override`해야 하는 `build()`함수가 실행됨.
마지막으로 `build()`함수에 반환한 위젯이 화면에 렌더링됨.

플러터에서 모든 위젯은 `Widget`클래스를 상속하고, `Widget`클래스는 불변특성을 갖고있음.
불변이란, 클래스를 한 번 생성하고 나면 속성을 변경할 수 없다는 뜻임.

그런데 위젯의 속성을 변경해야 할 때가 분명히 있음. 예를 들면 생성자에 새로운 파라미터가 입력되는 경우가 있음.
`build()`함수에서 파라미터 값을 사용하고 있다면 변경된 파라미터를 기반으로 `build()`함수를 재실행 해줘야함.

하지만!! `StatelessWidget`은 불변이기 때문에 한 번 생성된 인스턴스의 `build()`함수는 재실행 되지 않음!
대신 인스턴스를 아예 새로 생성한 후 기존 인스턴스를 대체해서 변경 사항을 화면에 반영해야함.

---

## ✅ 2. `StatefulWidget`
- `StatefulWidget`은 외부에서 위젯 생성자의 파라미터를 변경해주면 위젯이 새롭게 생성되고 `build()`가 실행되기까지 과정은 `StatelessWidget`과 동일함.
- `StatefulWidget`은 `Widget`클래스와 `State`클래스 두 개로 구성되어 있음.

아래의 생명주기를 먼저 공부해보겠음

- 상태 변경이 없는 생명주기
- `StatefulWidget` 생성자의 파라미터가 변경됐을 때 생명주기
- `State`자체적으로 `build()`를 재실행할 때 생명주기

---

### 2-1. 상태 변경이 없는 생명주기
- 상태 변경이 없는 생명주기는 위젯이 화면에 나타나며 생성되고 화면에서 사라지며 삭제되는 과정을 의미함. -> 중간에 위젯의 상태가 변경되지 않음.
  ![image](https://github.com/user-attachments/assets/242a0295-f746-461e-bbe8-0a0feaefb908)

